<Window x:Class="ImageAnnotator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ImageAnnotator.ViewModel"
        mc:Ignorable="d"
        Title="MainWindow" Height="720" Width="1280">
    <!--Icon="pack://application:,,,/icon.ico">-->

    <!--<Window.CommandBindings>
        <CommandBinding Command="New" CanExecute="CommonCommandBinding_CanExecute" />
        <CommandBinding Command="Open" CanExecute="CommonCommandBinding_CanExecute" />
        <CommandBinding Command="Save" CanExecute="CommonCommandBinding_CanExecute" />
        <CommandBinding Command="Draw" CanExecute="CommonCommandBinding_CanExecute" />
        <CommandBinding Command="Erase" CanExecute="CommonCommandBinding_CanExecute" /
    </Window.CommandBindings>-->

    <!-- <Window.DataContext> -->
    <!--     <local:ImageViewModel /> -->
    <!-- </Window.DataContext> -->

    <Window.CommandBindings>
        <CommandBinding Command="Open" Executed="LoadImage" />
    </Window.CommandBindings>

    <Window.InputBindings>
            <KeyBinding Key="O" Modifiers="Control" Command="Open"/>
    </Window.InputBindings>

   
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
        </Grid.RowDefinitions>
        <DockPanel Grid.Row="0">
            <Menu>
                <MenuItem Header="_File">
                    <MenuItem Header="_Open Picture" Command="Open"></MenuItem>
                    <MenuItem Header="_Quit" Click="Exit"></MenuItem>
                </MenuItem>
            </Menu>
        </DockPanel>

        <!-- <Image Grid.Row="1" Source="{Binding ImagePath}" Name="ImageDisplayControl" d:DesignHeight="400" MouseMove="Image_MouseMove"/> -->

        <Grid Grid.Row="1">
            <Image Source="{Binding ImagePath}"
                   Name="ImageDisplayControl"
                   d:DesignHeight="400"
                   MouseMove="Image_MouseMove"/>
            <Canvas Background="Transparent"
                    Width="{Binding ActualWidth, ElementName=ImageDisplayControl}"
                    Height="{Binding ActualHeight, ElementName=ImageDisplayControl}"
                    Name="GridCanvas"/>
            <Canvas Background="Transparent"
                    Width="{Binding ActualWidth, ElementName=ImageDisplayControl}"
                    Height="{Binding ActualHeight, ElementName=ImageDisplayControl}"
                    Name="AnnotationCanvas"
                    MouseMove="Image_MouseMove"/>
        </Grid>

        <StatusBar Grid.Row="2" >
            <StatusBarItem>
                <StackPanel Orientation="Horizontal">
                        <Label Content="{Binding ImageDisplayPath}"/>
                        <Separator Width="100px" Visibility="Hidden"/>

                        <!-- <StackPanel Orientation="Horizontal"> -->
                        <!--     <Label Content="Image Width:"/> -->
                        <!--     <Label Content="{Binding ImageSize.Width}"/> -->
                        <!--     <Label Content="Image Height:"/> -->
                        <!--     <Label Content="{Binding ImageSize.Height}"/> -->
                        <!-- </StackPanel> -->

                        <StackPanel Orientation="Horizontal">
                            <Label Content="Cursor X:"/>
                            <Label Content="{Binding CursorPosition.X}"/>
                            <Label Content="Cursor Y:"/>
                            <Label Content="{Binding CursorPosition.Y}"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <Label Content="Norm X:"/>
                            <Label Content="{Binding NormalizedCursorPosition.X}"  ContentStringFormat="{}{0:#,#.00}"/>
                            <Label Content="Norm Y:"/>
                            <Label Content="{Binding NormalizedCursorPosition.Y}"  ContentStringFormat="{}{0:#,#.00}"/>
                        </StackPanel>

                        <!-- For this control we want the window as the datacotext. We have set this up in code-->
                        <StackPanel Name="WindowInfo" Orientation="Horizontal">
                            <Label Content="Window Width:"/>
                            <Label Content="{Binding Width}"/>
                            <Separator Width="100px" Visibility="Hidden"/>
                            <Label Content="Window Height:"/>
                            <Label Content="{Binding Height}"/>
                        </StackPanel>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>

    </Grid>
</Window>